import*as tslib_1 from"../polyfills/tslib.js";import{h}from"../nb-component.core.js";var Affix=function(){function e(){this.toTarget=function(){return document}}return e.prototype.onCurrentPageChange=function(e){this.change.emit({isFixed:e})},e.prototype.handleFix=function(){if(this.offset>=0){var e=this.el.getBoundingClientRect().top;this.fixed=e<=this.offset}},e.prototype.componentDidLoad=function(){var e=this;try{this.handleFix(),setTimeout(function(){e.toTarget().addEventListener("scroll",e.handleFix.bind(e),!1)},100)}catch(e){throw new TypeError('"toTarget" props maybe not a valid scroll dom.')}},e.prototype.componentDidUnload=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(e){return this.toTarget().removeEventListener("scroll",this.handleFix.bind(this),!1),[2]})})},e.prototype.render=function(){return h("div",{class:this.fixed?"fixed":"nofixed",style:{top:this.fixed?this.offset+"px":"auto"}},h("slot",null))},Object.defineProperty(e,"is",{get:function(){return"nb-affix"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{el:{elementRef:!0},fixed:{state:!0,watchCallbacks:["onCurrentPageChange"]},offset:{type:Number,attr:"offset"},toTarget:{type:"Any",attr:"to-target"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"change",method:"change",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return".nofixed{position:relative}.fixed{position:fixed}"},enumerable:!0,configurable:!0}),e}();export{Affix as NbAffix};
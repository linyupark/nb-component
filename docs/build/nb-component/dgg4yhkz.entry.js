const t=window.NbComponent.h;class s{constructor(){this.wh=[400,400],this.borderColor="#2E3F63",this.unit=5,this.labelDataList=["选时","选股","配置","日内交易","风格把控","风控能力"],this.points=[{bgcolor:"RGBA(18, 105, 191, 0.5)",data:[30,50,60,70,80,90]},{bgcolor:"RGBA(102, 56, 240, 0.8)",data:[40,40,30,70,60,100]}],this.fontSize=14}get countNumber(){return this.labelDataList.length}get centerLen(){return this.wh[0]/2}get radius(){return this.centerLen-50}get angle(){return 2*Math.PI/this.countNumber}drawPolygon(){const t=this.centerLen,s=this.radius,a=this.angle;this.canvas.save(),this.canvas.strokeStyle=this.borderColor;const i=s/this.unit;for(let s=0;s<this.unit;s++){this.canvas.beginPath();const e=i*(s+1);for(let s=0;s<this.countNumber;s++){const i=t+e*Math.cos(a*s),n=t+e*Math.sin(a*s);this.canvas.lineTo(n,i)}this.canvas.closePath(),this.canvas.stroke()}this.canvas.restore()}drawLines(){this.canvas.save(),this.canvas.beginPath(),this.canvas.strokeStyle=this.borderColor;for(let t=0;t<this.countNumber;t++){const s=this.centerLen+this.radius*Math.cos(this.angle*t),a=this.centerLen+this.radius*Math.sin(this.angle*t);this.canvas.moveTo(this.centerLen,this.centerLen),this.canvas.lineTo(a,s)}this.canvas.stroke(),this.canvas.restore()}drawText(){this.canvas.save(),this.canvas.font=`${this.fontSize}px Arial`,this.canvas.fillStyle="#444";for(let t=0;t<this.countNumber;t++){const s=this.centerLen+this.radius*Math.cos(this.angle*t),a=this.centerLen+this.radius*Math.sin(this.angle*t),i=this.labelDataList[t],e=this.canvas.measureText(i).width;this.angle*t>=0&&this.angle*t<=Math.PI/2?this.canvas.fillText(i,a-e/2+t*e/2,s+this.fontSize):this.angle*t>Math.PI/2&&this.angle*t<=Math.PI?this.canvas.fillText(i,a-t%2*e/2,s-this.fontSize/2):this.angle*t>Math.PI&&this.angle*t<=3*Math.PI/2?this.canvas.fillText(i,a-e,s-this.fontSize/2):this.canvas.fillText(i,a-e,s+this.fontSize)}this.canvas.restore()}drawRegion(t){this.canvas.save(),this.canvas.beginPath();for(var s=0;s<this.centerLen;s++){var a=this.centerLen+this.radius*Math.cos(this.angle*s)*this.points[t].data[s]/100,i=this.centerLen+this.radius*Math.sin(this.angle*s)*this.points[t].data[s]/100;this.canvas.lineTo(i,a)}this.canvas.closePath(),this.canvas.fillStyle=this.points[t].bgcolor,this.canvas.fill(),this.canvas.restore()}componentDidLoad(){this.canvas=this.canvas.getContext("2d"),this.drawPolygon(),this.drawLines(),this.drawText();for(let t in this.points)this.drawRegion(Number(t))}render(){return t("div",{class:"radar"},t("canvas",{ref:t=>this.canvas=t,width:this.wh[0],height:this.wh[1]}))}static get is(){return"nb-canvas-radar"}static get properties(){return{borderColor:{type:String,attr:"border-color"},fontSize:{type:Number,attr:"font-size"},labelDataList:{type:"Any",attr:"label-data-list"},points:{type:"Any",attr:"points"},unit:{type:Number,attr:"unit"},wh:{type:"Any",attr:"wh"}}}}export{s as NbCanvasRadar};
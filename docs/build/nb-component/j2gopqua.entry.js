const t=window.NbComponent.h;class e{constructor(){this.visible=!1,this.type="alert",this.position="center",this.theme="default",this.transition="",this.headTitle="",this.okText="确定",this.onOk=(()=>this.close()),this.noText="取消",this.onNo=(()=>this.close()),this.scrollTop=0,this.originStyles=""}onVisibleChange(t){this.visible=t,t?(this.transition="enter",this.originStyles=document.body.getAttribute("style")||"",this.scrollTop=this.getScrollTop(),document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=-this.scrollTop+"px",document.body.style.bottom="0px"):(this.transition="leave",document.body.setAttribute("style",this.originStyles),document.body.scrollTop=document.documentElement.scrollTop=this.scrollTop||0)}async show(t,e={}){const i=Object.assign({title:"",content:"",okText:this.okText,onOk:this.onOk},e);return this.visible&&(this.visible=!1),this.type=t,this.headTitle=i.title,this.okText=i.okText,this.onOk=i.onOk,this.el.innerHTML=i.content,this.visible=!0,this.close.bind(this)}getScrollTop(){return document.body.scrollTop||document.documentElement.scrollTop}close(){this.visible=!1}get styleName(){return`${this.theme} ${this.position} ${this.transition}`}componentDidLoad(){this.onVisibleChange(this.visible)}render(){return[t("div",{class:`modal ${this.styleName}`},t("div",{class:"wrapper"},t("div",{class:"box"},""!==this.headTitle&&t("div",{class:"title"},this.headTitle),""!==this.headTitle&&t("div",{class:"content"},t("slot",null)),t("div",{class:"buttons"},"confirm"===this.type&&t("button",{class:"cancel",onClick:this.onNo.bind(this)},this.noText),t("button",{class:"ok",onClick:this.onOk.bind(this)},this.okText))))),this.visible&&t("div",{class:"mask"})]}static get is(){return"nb-modal"}static get encapsulation(){return"shadow"}static get properties(){return{el:{elementRef:!0},headTitle:{type:String,attr:"head-title",mutable:!0},noText:{type:String,attr:"no-text",mutable:!0},okText:{type:String,attr:"ok-text",mutable:!0},onNo:{type:"Any",attr:"on-no",mutable:!0},onOk:{type:"Any",attr:"on-ok",mutable:!0},position:{type:String,attr:"position",mutable:!0},show:{method:!0},theme:{type:String,attr:"theme"},transition:{state:!0},type:{type:String,attr:"type",reflectToAttr:!0,mutable:!0},visible:{type:Boolean,attr:"visible",reflectToAttr:!0,mutable:!0,watchCallbacks:["onVisibleChange"]}}}static get style(){return".modal{position:absolute;top:0;left:0;height:100vh;width:100vw;z-index:-1}.modal .wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.modal .box{width:8rem;background:#fff;border-radius:.26666666666666666rem;overflow:hidden;opacity:0;-webkit-transition:all .3s;transition:all .3s}.modal .box .title{text-align:center;font-size:.4266666666666667rem;color:#272727;font-weight:600;padding:.5333333333333333rem}.modal .box .content{padding:0 .5333333333333333rem .5333333333333333rem .5333333333333333rem;color:#595959;font-size:.37333333333333335rem;line-height:.5333333333333333rem}.modal .box .buttons{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:1.2rem;border-top:1px solid #f5f5f5}.modal .box .buttons .cancel,.modal .box .buttons .ok{width:100%;text-align:center;color:#3e86f7;font-size:.48rem;border:none;background:#fff;outline:none}.modal .box .buttons button:nth-child(2){border-left:1px solid #f5f5f5}.modal.center .box{text-align:center;position:fixed;top:49%;-webkit-transform:translateY(-50%);transform:translateY(-50%);margin:0 auto}.modal.enter{z-index:999}.modal.enter .box{top:50%;opacity:1}.modal.leave{z-index:-1}.modal.leave .box{top:49%;opacity:0}.mask{position:absolute;top:0;left:0;height:100vh;width:100vw;z-index:998;background:rgba(0,0,0,.1)}"}}export{e as NbModal};